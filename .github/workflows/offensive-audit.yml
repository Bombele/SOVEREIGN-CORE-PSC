name: "Cyber Offensive Audit"

on:
  schedule:
    - cron: '0 0 * * 1' # S'exécute chaque lundi à minuit

jobs:
  audit:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup Java 17
        uses: actions/setup-java@v4
        with:
          java-version: '17'
          distribution: 'temurin'

      - name: Run Vulnerability Scan
        run: |
          chmod +x ./gradlew
          ./gradlew build
          # Scan des dépendances pour détecter les vecteurs d'entrée (RCE, etc.)
          ./gradlew dependencyCheckAnalyze 
